## 问题原因
- 前端开发服务器将所有 `/api` 请求代理到 `http://127.0.0.1:8001`，但后端实际运行在 `8000`，导致连接被拒绝。
- 证据：
  - `frontend2/vite.config.ts:7-15` 配置 `server.proxy['/api'].target = 'http://127.0.0.1:8001'`
  - `backend/main.py:399-403` 以 `port=8000` 启动后端
  - `backend/app/core/config.py:21-23` 默认端口 `8000`
  - 路由前缀匹配：`backend/main.py:97-148` 注册 `/api` 与 `/api/admin`；`backend/app/api/rag_routes.py:32` 前缀 `/api/rag`
  - 仓库中存在一个仅测试用途的 `backend/new_admin_user_api.py:174-177` 在 `8001`，非主入口

## 实施方案（推荐）
1) 修改前端代理目标端口为 `8000`
- 更新 `frontend2/vite.config.ts`：将 `target` 从 `http://127.0.0.1:8001` 改为 `http://127.0.0.1:8000`（或 `http://localhost:8000`）。
- 保持 `changeOrigin: true`、`secure: false` 不变。

2) 重启与验证
- 重启前端：`npm run dev` 并打开 `http://localhost:5173`。
- 在登录页重试，确认不再出现 `http proxy error: connect ECONNREFUSED 127.0.0.1:8001`。
- 后端终端应看到对 `/api/admin/auth/login` 的访问日志且返回 200/401 等正常响应码。

## 备选方案（不推荐）
- 将后端主应用改为运行在 `8001`：`uvicorn main:app --reload --host 0.0.0.0 --port 8001`。
- 或运行 `backend/new_admin_user_api.py` 测试服务（路由范围有限，可能与前端调用不完全一致）。

## 可选增强
- 引入环境变量控制代理目标：在前端增加 `.env.development`（如 `VITE_PROXY_TARGET=http://127.0.0.1:8000`），并在 `vite.config.ts` 读取该变量，便于不同环境切换。

## 验收标准
- 登录接口 `/api/admin/auth/login` 正常转发到后端 `8000`；
- 代理报错消失；后台日志显示收到请求且有响应；前端登录流程可继续。