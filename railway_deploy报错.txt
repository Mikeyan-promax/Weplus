You reached the start of the range
Nov 5, 2025, 2:58 PM
Starting Container
2025-11-05 06:58:37,016 CRIT Supervisor is running as root.  Privileges were not dropped because no user is specified in the config file.  If you intend to run as root, you can set user=root in the config file to avoid this message.
2025-11-05 06:58:37,018 INFO supervisord started with pid 1
2025-11-05 06:58:38,021 INFO spawned: 'backend' with pid 2
2025-11-05 06:58:38,024 INFO spawned: 'nginx' with pid 3
[startup] ENV PORT=8080
[startup] Rendering /etc/nginx/nginx.conf from template
[startup] Rendered nginx.conf (first 200 lines):
## Nginx é…ç½®æ¨¡æ¿ï¼ˆRailway å•å®¹å™¨ï¼ŒåŠ¨æ€ç«¯å£ï¼‰
## - é™æ€ç«™ç‚¹ï¼š/usr/share/nginx/html
## - åå‘ä»£ç†ï¼š/api/ -> 127.0.0.1:8000ï¼ˆUvicornï¼‰
## - ç«¯å£ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ 8080
worker_processes auto;
http {
            try_files $uri $uri/ /index.html;
events {
    include /etc/nginx/mime.types;
    worker_connections 1024;
    default_type application/octet-stream;
        }
}
    sendfile on;
    tcp_nopush on;
    tcp_nodelay on;
    keepalive_timeout 65;
    types_hash_max_size 4096;
    server {
        listen 8080;
        server_name _;
        # å‰ç«¯é™æ€èµ„æº
        root /usr/share/nginx/html;
        index index.html;
        location / {
        # åç«¯ API åå‘ä»£ç†
        # å»æ‰ proxy_pass æœ«å°¾æ–œæ ä»¥ä¿ç•™ /api å‰ç¼€
        location /api/ {
            proxy_pass http://127.0.0.1:8000;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
}
[startup] Validating nginx configuration
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
[startup] Nginx will listen on PORT=8080
2025/11/05 06:58:38 [error] 8#8: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 100.64.0.2, server: _, request: "GET /api/healthz HTTP/1.1", upstream: "http://127.0.0.1:8000/api/healthz", host: "healthcheck.railway.app"
2025-11-05 06:58:39,137 INFO success: backend entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2025-11-05 06:58:39,137 INFO success: nginx entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2025/11/05 06:58:39 [error] 9#9: *3 connect() failed (111: Connection refused) while connecting to upstream, client: 100.64.0.2, server: _, request: "GET /api/healthz HTTP/1.1", upstream: "http://127.0.0.1:8000/api/healthz", host: "healthcheck.railway.app"
INFO:app.services.rag_service:RAGæœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.postgresql_vector_service:PostgreSQLå‘é‡å­˜å‚¨æœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.document_service:æ–‡æ¡£æœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.rag_service:RAGæœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.postgresql_vector_service:PostgreSQLå‘é‡å­˜å‚¨æœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.postgresql_vector_service:PostgreSQLå‘é‡å­˜å‚¨æœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.rag_service:RAGæœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:     Started server process [2]
INFO:     Waiting for application startup.
ğŸš€ WePlus RAG Campus Assistant API å¯åŠ¨ä¸­...
ğŸ“š RAGç³»ç»Ÿå·²é›†æˆ DeepSeek å’Œè±†åŒ…åµŒå…¥æ¨¡å‹
âœ… æœåŠ¡å™¨å¯åŠ¨å®Œæˆ
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     100.64.0.2:0 - "GET /api/healthz HTTP/1.1" 200 OK
INFO:     100.64.0.3:54836 - "GET / HTTP/1.1" 200 OK
INFO:     100.64.0.3:54836 - "GET /favicon.ico HTTP/1.1" 404 Not Found
