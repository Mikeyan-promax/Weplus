worker_processes auto;
    tcp_nopush on;
    types_hash_max_size 4096;
    sendfile on;
2025-11-05 14:26:24,710 INFO spawned: 'backend' with pid 2
    # å°†è®¿é—®ä¸é”™è¯¯æ—¥å¿—è¾“å‡ºåˆ°å®¹å™¨æ ‡å‡†æµï¼Œä¾¿äºåœ¨ Railway é¢æ¿æŸ¥çœ‹
    access_log /dev/stdout;
events {
    tcp_nodelay on;
    keepalive_timeout 65;
    include /etc/nginx/mime.types;
    worker_connections 1024;
    default_type application/octet-stream;
}
http {
    server {
        listen 8080 default_server;
        server_name _;
        # å‰ç«¯é™æ€èµ„æº
        root /usr/share/nginx/html;
        index index.html;
        location / {
            try_files $uri $uri/ /index.html;
        }
        # åç«¯ API åå‘ä»£ç†
        # å»æ‰ proxy_pass æœ«å°¾æ–œæ ä»¥ä¿ç•™ /api å‰ç¼€
        location /api/ {
            proxy_pass http://127.0.0.1:8000;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
}
[startup] Validating nginx configuration
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
[startup] Nginx will listen on PORT=8080
2025-11-05 14:26:25,712 INFO success: backend entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2025-11-05 14:26:25,713 INFO success: nginx entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
100.64.0.2 - - [05/Nov/2025:14:26:25 +0000] "GET /api/healthz HTTP/1.1" 502 157 "-" "RailwayHealthCheck/1.0"
2025/11/05 14:26:25 [error] 8#8: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 100.64.0.2, server: _, request: "GET /api/healthz HTTP/1.1", upstream: "http://127.0.0.1:8000/api/healthz", host: "healthcheck.railway.app"
2025/11/05 14:26:26 [error] 9#9: *3 connect() failed (111: Connection refused) while connecting to upstream, client: 100.64.0.2, server: _, request: "GET /api/healthz HTTP/1.1", upstream: "http://127.0.0.1:8000/api/healthz", host: "healthcheck.railway.app"
100.64.0.2 - - [05/Nov/2025:14:26:26 +0000] "GET /api/healthz HTTP/1.1" 502 157 "-" "RailwayHealthCheck/1.0"
INFO:app.services.rag_service:RAGæœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.postgresql_vector_service:PostgreSQLå‘é‡å­˜å‚¨æœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.document_service:æ–‡æ¡£æœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.rag_service:RAGæœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.postgresql_vector_service:PostgreSQLå‘é‡å­˜å‚¨æœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.postgresql_vector_service:PostgreSQLå‘é‡å­˜å‚¨æœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.services.rag_service:RAGæœåŠ¡åˆå§‹åŒ–å®Œæˆ
INFO:app.api.study_resources_api:ä½¿ç”¨å…¨å±€è®¾ç½®çš„å­¦ä¹ èµ„æºç›®å½•: uploads/study_resources
INFO:     Started server process [2]
INFO:     Waiting for application startup.
ğŸš€ WePlus RAG Campus Assistant API å¯åŠ¨ä¸­...
ğŸ“š RAGç³»ç»Ÿå·²é›†æˆ DeepSeek å’Œè±†åŒ…åµŒå…¥æ¨¡å‹
âœ… æœåŠ¡å™¨å¯åŠ¨å®Œæˆ
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     100.64.0.2:0 - "GET /api/healthz HTTP/1.1" 200 OK
100.64.0.2 - - [05/Nov/2025:14:26:29 +0000] "GET /api/healthz HTTP/1.1" 200 48 "-" "RailwayHealthCheck/1.0"
100.64.0.3 - - [05/Nov/2025:14:27:10 +0000] "GET / HTTP/1.1" 200 456 "https://weplus-production.up.railway.app/app/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
100.64.0.3 - - [05/Nov/2025:14:27:10 +0000] "GET /assets/index-DidCKKLk.css HTTP/1.1" 200 190439 "https://weplus-production.up.railway.app/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
100.64.0.3 - - [05/Nov/2025:14:27:10 +0000] "GET /assets/index-CVv8KagV.js HTTP/1.1" 200 1966575 "https://weplus-production.up.railway.app/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
100.64.0.3 - - [05/Nov/2025:14:27:16 +0000] "GET /vite.svg HTTP/1.1" 200 1497 "https://weplus-production.up.railway.app/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
åŒæ­¥æ•°æ®åº“è¿æ¥æ± åˆ›å»ºæˆåŠŸ
(trapped) error reading bcrypt version
INFO:     100.64.0.3:0 - "POST /api/auth/login HTTP/1.1" 200 OK
100.64.0.3 - - [05/Nov/2025:14:27:56 +0000] "POST /api/auth/login HTTP/1.1" 200 734 "https://weplus-production.up.railway.app/login" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
100.64.0.3 - - [05/Nov/2025:14:28:02 +0000] "GET / HTTP/1.1" 304 0 "https://weplus-production.up.railway.app/app/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
100.64.0.3 - - [05/Nov/2025:14:28:02 +0000] "GET /assets/index-CVv8KagV.js HTTP/1.1" 304 0 "https://weplus-production.up.railway.app/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
100.64.0.3 - - [05/Nov/2025:14:28:02 +0000] "GET /assets/index-DidCKKLk.css HTTP/1.1" 304 0 "https://weplus-production.up.railway.app/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
INFO:     100.64.0.3:0 - "POST /api/auth/login HTTP/1.1" 200 OK
100.64.0.3 - - [05/Nov/2025:14:28:21 +0000] "POST /api/auth/login HTTP/1.1" 200 734 "https://weplus-production.up.railway.app/login" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
æ”¶åˆ°æµå¼èŠå¤©è¯·æ±‚: æµ·æ´‹ä¸å¤§æ°”å­¦é™¢...
ä½¿ç”¨RAGæ¨¡å¼è¿›è¡Œæµå¼å›ç­”
2025/11/05 14:29:09 [info] 12#12: *8 epoll_wait() reported that client prematurely closed connection, so upstream connection is closed too while sending request to upstream, client: 100.64.0.3, server: _, request: "POST /api/rag/chat/stream HTTP/1.1", upstream: "http://127.0.0.1:8000/api/rag/chat/stream", host: "weplus-production.up.railway.app", referrer: "https://weplus-production.up.railway.app/app/chat"
100.64.0.3 - - [05/Nov/2025:14:29:09 +0000] "POST /api/rag/chat/stream HTTP/1.1" 499 0 "https://weplus-production.up.railway.app/app/chat" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
2025/11/05 14:29:54 [info] 13#13: *12 epoll_wait() reported that client prematurely closed connection, so upstream connection is closed too while sending request to upstream, client: 100.64.0.4, server: _, request: "POST /api/rag/chat/stream HTTP/1.1", upstream: "http://127.0.0.1:8000/api/rag/chat/stream", host: "weplus-production.up.railway.app", referrer: "https://weplus-production.up.railway.app/app/chat"
100.64.0.4 - - [05/Nov/2025:14:29:54 +0000] "POST /api/rag/chat/stream HTTP/1.1" 499 0 "https://weplus-production.up.railway.app/app/chat" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
ä»æ•°æ®åº“è·å–åˆ° 14 ä¸ªæ–‡æ¡£å—
ç”Ÿæˆ 1 ä¸ªæ–°åµŒå…¥å‘é‡
HTTP Request: POST https://ark.cn-beijing.volces.com/api/v3/embeddings "HTTP/1.1 200 OK"
PostgreSQLè¿æ¥æ± åˆå§‹åŒ–æˆåŠŸ: pgm-2ze58b40mdfqec4zwo.pg.rds.aliyuncs.com:5432/weplus_db
åµŒå…¥å‘é‡ç”Ÿæˆå®Œæˆ: 1 ä¸ªæ–‡æœ¬, ç¼“å­˜å‘½ä¸­: 0
ç”Ÿæˆ 1 ä¸ªæ–°åµŒå…¥å‘é‡
INFO:     100.64.0.4:0 - "GET /api/study-resources/categories HTTP/1.1" 200 OK
100.64.0.4 - - [05/Nov/2025:14:30:08 +0000] "GET /api/study-resources/categories HTTP/1.1" 200 3277 "https://weplus-production.up.railway.app/app/study" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
PostgreSQLè¿æ¥æ± åˆå§‹åŒ–æˆåŠŸ: pgm-2ze58b40mdfqec4zwo.pg.rds.aliyuncs.com:5432/weplus_db
INFO:     100.64.0.4:0 - "GET /api/study-resources/resources?page=1&limit=20 HTTP/1.1" 200 OK
100.64.0.4 - - [05/Nov/2025:14:30:20 +0000] "GET /api/study-resources/resources?page=1&limit=20 HTTP/1.1" 200 2285 "https://weplus-production.up.railway.app/app/study" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
PostgreSQLè¿æ¥æ± åˆå§‹åŒ–æˆåŠŸ: pgm-2ze58b40mdfqec4zwo.pg.rds.aliyuncs.com:5432/weplus_db
èµ„æºæ–‡ä»¶å®šä½å¤±è´¥ï¼Œresource_id=24, åŸå§‹è·¯å¾„=C:\Users\MikeYan-PC\Desktop\weplus\backend\data\study_resources\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3, å°è¯•ç›®å½•=['uploads/study_resources/C:\\Users\\MikeYan-PC\\Desktop\\weplus\\backend\\data\\study_resources\\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3', 'uploads/study_resources/C:\\Users\\MikeYan-PC\\Desktop\\weplus\\backend\\data\\study_resources\\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3', 'uploads/C:\\Users\\MikeYan-PC\\Desktop\\weplus\\backend\\data\\study_resources\\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3', '/app/data/study_resources/C:\\Users\\MikeYan-PC\\Desktop\\weplus\\backend\\data\\study_resources\\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3'], è¿”å›å€™é€‰=uploads/study_resources/C:\Users\MikeYan-PC\Desktop\weplus\backend\data\study_resources\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3
INFO:     100.64.0.4:0 - "GET /api/study-resources/24/preview HTTP/1.1" 404 Not Found
100.64.0.4 - - [05/Nov/2025:14:30:25 +0000] "GET /api/study-resources/24/preview HTTP/1.1" 404 28 "https://weplus-production.up.railway.app/app/study" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"
PostgreSQLè¿æ¥æ± åˆå§‹åŒ–æˆåŠŸ: pgm-2ze58b40mdfqec4zwo.pg.rds.aliyuncs.com:5432/weplus_db
èµ„æºæ–‡ä»¶å®šä½å¤±è´¥ï¼Œresource_id=24, åŸå§‹è·¯å¾„=C:\Users\MikeYan-PC\Desktop\weplus\backend\data\study_resources\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3, å°è¯•ç›®å½•=['uploads/study_resources/C:\\Users\\MikeYan-PC\\Desktop\\weplus\\backend\\data\\study_resources\\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3', 'uploads/study_resources/C:\\Users\\MikeYan-PC\\Desktop\\weplus\\backend\\data\\study_resources\\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3', 'uploads/C:\\Users\\MikeYan-PC\\Desktop\\weplus\\backend\\data\\study_resources\\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3', '/app/data/study_resources/C:\\Users\\MikeYan-PC\\Desktop\\weplus\\backend\\data\\study_resources\\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3'], è¿”å›å€™é€‰=uploads/study_resources/C:\Users\MikeYan-PC\Desktop\weplus\backend\data\study_resources\60d3c2a6-a5b1-4ce1-ad58-61c06ca0fe45.mp3
INFO:     100.64.0.4:0 - "GET /api/study-resources/24/download HTTP/1.1" 404 Not Found
100.64.0.4 - - [05/Nov/2025:14:30:40 +0000] "GET /api/study-resources/24/download HTTP/1.1" 404 28 "https://weplus-production.up.railway.app/app/study" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"



HTTP Logs
Search HTTP logs e.g. @path:/api/users @httpStatus:200
You reached the start of the range
Nov 5, 2025, 10:24 PM
GET
/
200
173ms
GET
/assets/index-DidCKKLk.css
200
6ms
GET
/assets/index-CVv8KagV.js
200
27ms
GET
/vite.svg
200
1ms
POST
/api/auth/login
200
29ç§’
GET
/
304
1ms
GET
/assets/index-CVv8KagV.js
304
1ms
GET
/assets/index-DidCKKLk.css
304
1ms
POST
/api/auth/login
200
11ç§’
POST
/api/rag/chat/stream
499
38ç§’
POST
/api/rag/chat/stream
499
41ç§’
GET
/api/study-resources/categories
200
11ç§’
GET
/api/study-resources/resources
200
11ç§’
GET
/api/study-resources/24/preview
404
2ç§’
GET
/api/study-resources/24/download
404
13ç§’