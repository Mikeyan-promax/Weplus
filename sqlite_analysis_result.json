{
  "backend/data/study_resources.db": {
    "path": "backend/data/study_resources.db",
    "tables": {
      "resource_categories": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "code",
            "type": "VARCHAR(50)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "icon",
            "type": "VARCHAR(50)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "color",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "'#4A90E2'",
            "primary_key": false
          },
          {
            "name": "sort_order",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 7,
        "create_sql": "CREATE TABLE resource_categories (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name VARCHAR(100) NOT NULL UNIQUE,           -- 分类名称：英语四六级、雅思、考研等\n    code VARCHAR(50) NOT NULL UNIQUE,            -- 分类代码：cet, ielts, postgraduate等\n    description TEXT DEFAULT '',                  -- 分类描述\n    icon VARCHAR(50) DEFAULT '',                 -- 分类图标\n    color VARCHAR(20) DEFAULT '#4A90E2',         -- 分类主题色\n    sort_order INTEGER DEFAULT 0,               -- 排序顺序\n    is_active BOOLEAN DEFAULT 1,                -- 是否启用\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n)"
      },
      "sqlite_sequence": {
        "columns": [
          {
            "name": "name",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "seq",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 7,
        "create_sql": "CREATE TABLE sqlite_sequence(name,seq)"
      },
      "study_resources": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "file_name",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_path",
            "type": "VARCHAR(500)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_type",
            "type": "VARCHAR(20)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_size",
            "type": "BIGINT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "category_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "download_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "view_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "rating_avg",
            "type": "DECIMAL(3,2)",
            "not_null": false,
            "default_value": "0.00",
            "primary_key": false
          },
          {
            "name": "rating_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "status",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "'active'",
            "primary_key": false
          },
          {
            "name": "upload_time",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "metadata",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          },
          {
            "name": "tags",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'[]'",
            "primary_key": false
          },
          {
            "name": "keywords",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'[]'",
            "primary_key": false
          }
        ],
        "row_count": 5,
        "create_sql": "CREATE TABLE study_resources (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name VARCHAR(255) NOT NULL,                  -- 资源名称\n    description TEXT DEFAULT '',                 -- 资源描述\n    file_name VARCHAR(255) NOT NULL,             -- 文件名\n    file_path VARCHAR(500) NOT NULL,             -- 文件存储路径\n    file_type VARCHAR(20) NOT NULL,              -- 文件类型：PDF, DOCX, MP3, MP4等\n    file_size BIGINT NOT NULL,                   -- 文件大小（字节）\n    category_id INTEGER NOT NULL,               -- 分类ID\n    \n    -- 统计信息\n    download_count INTEGER DEFAULT 0,           -- 下载次数\n    view_count INTEGER DEFAULT 0,               -- 查看次数\n    rating_avg DECIMAL(3,2) DEFAULT 0.00,       -- 平均评分\n    rating_count INTEGER DEFAULT 0,             -- 评分人数\n    \n    -- 状态和时间\n    status VARCHAR(20) DEFAULT 'active',        -- 状态：active, inactive, deleted\n    upload_time DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    -- 元数据\n    metadata TEXT DEFAULT '{}',                  -- JSON格式的额外信息\n    tags TEXT DEFAULT '[]',                      -- JSON数组格式的标签\n    keywords TEXT DEFAULT '[]',                  -- JSON数组格式的关键词\n    \n    -- 外键约束\n    FOREIGN KEY (category_id) REFERENCES resource_categories (id) ON DELETE RESTRICT\n)"
      },
      "resource_ratings": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "resource_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "rating",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 2,
        "create_sql": "CREATE TABLE resource_ratings (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    resource_id INTEGER NOT NULL,               -- 资源ID\n    user_id VARCHAR(100) NOT NULL,              -- 用户ID（来自用户系统）\n    rating INTEGER NOT NULL CHECK (rating >= 1 AND rating <= 5), -- 评分1-5星\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    -- 确保每个用户对每个资源只能评分一次\n    UNIQUE(resource_id, user_id),\n    FOREIGN KEY (resource_id) REFERENCES study_resources (id) ON DELETE CASCADE\n)"
      },
      "resource_comments": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "resource_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_name",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "content",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "parent_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "NULL",
            "primary_key": false
          },
          {
            "name": "status",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "'active'",
            "primary_key": false
          },
          {
            "name": "is_pinned",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 6,
        "create_sql": "CREATE TABLE resource_comments (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    resource_id INTEGER NOT NULL,               -- 资源ID\n    user_id VARCHAR(100) NOT NULL,              -- 用户ID\n    user_name VARCHAR(100) DEFAULT '',          -- 用户昵称（冗余存储）\n    content TEXT NOT NULL,                      -- 评论内容\n    parent_id INTEGER DEFAULT NULL,             -- 父评论ID（支持回复）\n    \n    -- 状态\n    status VARCHAR(20) DEFAULT 'active',        -- 状态：active, hidden, deleted\n    is_pinned BOOLEAN DEFAULT 0,                -- 是否置顶\n    \n    -- 时间\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    -- 外键约束\n    FOREIGN KEY (resource_id) REFERENCES study_resources (id) ON DELETE CASCADE,\n    FOREIGN KEY (parent_id) REFERENCES resource_comments (id) ON DELETE CASCADE\n)"
      },
      "resource_downloads": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "resource_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "NULL",
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "VARCHAR(45)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "user_agent",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "download_time",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "status",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "'completed'",
            "primary_key": false
          },
          {
            "name": "file_size",
            "type": "BIGINT",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          }
        ],
        "row_count": 11,
        "create_sql": "CREATE TABLE resource_downloads (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    resource_id INTEGER NOT NULL,               -- 资源ID\n    user_id VARCHAR(100) DEFAULT NULL,          -- 用户ID（可为空，支持匿名下载）\n    ip_address VARCHAR(45) DEFAULT '',          -- IP地址\n    user_agent TEXT DEFAULT '',                 -- 用户代理\n    download_time DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    -- 下载状态\n    status VARCHAR(20) DEFAULT 'completed',     -- 状态：started, completed, failed\n    file_size BIGINT DEFAULT 0,                 -- 下载的文件大小\n    \n    FOREIGN KEY (resource_id) REFERENCES study_resources (id) ON DELETE CASCADE\n)"
      },
      "resource_tags": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "VARCHAR(50)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "color",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "'#6c757d'",
            "primary_key": false
          },
          {
            "name": "usage_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 15,
        "create_sql": "CREATE TABLE resource_tags (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name VARCHAR(50) NOT NULL UNIQUE,           -- 标签名称\n    description TEXT DEFAULT '',                -- 标签描述\n    color VARCHAR(20) DEFAULT '#6c757d',        -- 标签颜色\n    usage_count INTEGER DEFAULT 0,             -- 使用次数\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n)"
      },
      "resource_tag_relations": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "resource_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "tag_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 8,
        "create_sql": "CREATE TABLE resource_tag_relations (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    resource_id INTEGER NOT NULL,              -- 资源ID\n    tag_id INTEGER NOT NULL,                   -- 标签ID\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    -- 确保同一资源不会重复关联同一标签\n    UNIQUE(resource_id, tag_id),\n    FOREIGN KEY (resource_id) REFERENCES study_resources (id) ON DELETE CASCADE,\n    FOREIGN KEY (tag_id) REFERENCES resource_tags (id) ON DELETE CASCADE\n)"
      },
      "resource_favorites": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "resource_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE resource_favorites (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    resource_id INTEGER NOT NULL,              -- 资源ID\n    user_id VARCHAR(100) NOT NULL,             -- 用户ID\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    -- 确保每个用户对每个资源只能收藏一次\n    UNIQUE(resource_id, user_id),\n    FOREIGN KEY (resource_id) REFERENCES study_resources (id) ON DELETE CASCADE\n)"
      },
      "study_resources_fts": {
        "columns": [
          {
            "name": "name",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "keywords",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 5,
        "create_sql": "CREATE VIRTUAL TABLE study_resources_fts USING fts5(\n    name, description, keywords, content='study_resources', content_rowid='id'\n)"
      },
      "study_resources_fts_data": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "block",
            "type": "BLOB",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 2,
        "create_sql": "CREATE TABLE 'study_resources_fts_data'(id INTEGER PRIMARY KEY, block BLOB)"
      },
      "study_resources_fts_idx": {
        "columns": [
          {
            "name": "segid",
            "type": "",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "term",
            "type": "",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "pgno",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE 'study_resources_fts_idx'(segid, term, pgno, PRIMARY KEY(segid, term)) WITHOUT ROWID"
      },
      "study_resources_fts_docsize": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "sz",
            "type": "BLOB",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE 'study_resources_fts_docsize'(id INTEGER PRIMARY KEY, sz BLOB)"
      },
      "study_resources_fts_config": {
        "columns": [
          {
            "name": "k",
            "type": "",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "v",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE 'study_resources_fts_config'(k PRIMARY KEY, v) WITHOUT ROWID"
      }
    },
    "total_tables": 14
  },
  "backend/data/knowledge_base.db": {
    "path": "backend/data/knowledge_base.db",
    "tables": {
      "knowledge_categories": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "parent_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "sort_order",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "icon",
            "type": "VARCHAR(50)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "color",
            "type": "VARCHAR(7)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 5,
        "create_sql": "CREATE TABLE knowledge_categories (\n\tid INTEGER NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tdescription TEXT, \n\tparent_id INTEGER, \n\tsort_order INTEGER, \n\ticon VARCHAR(50), \n\tcolor VARCHAR(7), \n\tis_active BOOLEAN, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(parent_id) REFERENCES knowledge_categories (id)\n)"
      },
      "knowledge_tags": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "VARCHAR(50)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "color",
            "type": "VARCHAR(7)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "usage_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "is_system_tag",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 5,
        "create_sql": "CREATE TABLE knowledge_tags (\n\tid INTEGER NOT NULL, \n\tname VARCHAR(50) NOT NULL, \n\tdescription TEXT, \n\tcolor VARCHAR(7), \n\tusage_count INTEGER, \n\tis_system_tag BOOLEAN, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (name)\n)"
      },
      "knowledge_search_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "query_text",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "query_embedding",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "search_type",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "result_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "retrieved_chunks",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "similarity_scores",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "top_k",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "similarity_threshold",
            "type": "FLOAT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "search_duration_ms",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "session_id",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "VARCHAR(45)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE knowledge_search_logs (\n\tid INTEGER NOT NULL, \n\tquery_text TEXT NOT NULL, \n\tquery_embedding TEXT, \n\tsearch_type VARCHAR(20), \n\tresult_count INTEGER, \n\tretrieved_chunks TEXT, \n\tsimilarity_scores TEXT, \n\ttop_k INTEGER, \n\tsimilarity_threshold FLOAT, \n\tsearch_duration_ms INTEGER, \n\tuser_id INTEGER, \n\tsession_id VARCHAR(100), \n\tip_address VARCHAR(45), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)"
      },
      "knowledge_documents": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "filename",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_type",
            "type": "VARCHAR(50)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_size",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "content_hash",
            "type": "VARCHAR(64)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_path",
            "type": "VARCHAR(500)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "status",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "processing_progress",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "error_message",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "title",
            "type": "VARCHAR(255)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "language",
            "type": "VARCHAR(10)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "category_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "total_chunks",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "embedding_model",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "vector_dimension",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "is_public",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "access_level",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "processed_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "view_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "search_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE knowledge_documents (\n\tid INTEGER NOT NULL, \n\tfilename VARCHAR(255) NOT NULL, \n\tfile_type VARCHAR(50) NOT NULL, \n\tfile_size INTEGER NOT NULL, \n\tcontent_hash VARCHAR(64) NOT NULL, \n\tfile_path VARCHAR(500) NOT NULL, \n\tstatus VARCHAR(20), \n\tprocessing_progress INTEGER, \n\terror_message TEXT, \n\ttitle VARCHAR(255), \n\tdescription TEXT, \n\tlanguage VARCHAR(10), \n\tcategory_id INTEGER, \n\ttotal_chunks INTEGER, \n\tembedding_model VARCHAR(100), \n\tvector_dimension INTEGER, \n\tis_public BOOLEAN, \n\taccess_level VARCHAR(20), \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tprocessed_at DATETIME, \n\tview_count INTEGER, \n\tsearch_count INTEGER, \n\tPRIMARY KEY (id), \n\tUNIQUE (content_hash), \n\tFOREIGN KEY(category_id) REFERENCES knowledge_categories (id)\n)"
      },
      "knowledge_chunks": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "document_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chunk_index",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "content",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "content_length",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "embedding_vector",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chroma_id",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "faiss_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "start_position",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "end_position",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "page_number",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chunk_metadata",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "quality_score",
            "type": "FLOAT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "importance_score",
            "type": "FLOAT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE knowledge_chunks (\n\tid INTEGER NOT NULL, \n\tdocument_id INTEGER NOT NULL, \n\tchunk_index INTEGER NOT NULL, \n\tcontent TEXT NOT NULL, \n\tcontent_length INTEGER NOT NULL, \n\tembedding_vector TEXT, \n\tchroma_id VARCHAR(100), \n\tfaiss_id INTEGER, \n\tstart_position INTEGER, \n\tend_position INTEGER, \n\tpage_number INTEGER, \n\tchunk_metadata TEXT, \n\tquality_score FLOAT, \n\timportance_score FLOAT, \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(document_id) REFERENCES knowledge_documents (id)\n)"
      },
      "knowledge_document_tags": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "document_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "tag_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE knowledge_document_tags (\n\tid INTEGER NOT NULL, \n\tdocument_id INTEGER NOT NULL, \n\ttag_id INTEGER NOT NULL, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(document_id) REFERENCES knowledge_documents (id), \n\tFOREIGN KEY(tag_id) REFERENCES knowledge_tags (id)\n)"
      },
      "knowledge_versions": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "document_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "version_number",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "version_name",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "change_description",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_path",
            "type": "VARCHAR(500)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_size",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "content_hash",
            "type": "VARCHAR(64)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "is_current",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "processing_status",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_by",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE knowledge_versions (\n\tid INTEGER NOT NULL, \n\tdocument_id INTEGER NOT NULL, \n\tversion_number INTEGER NOT NULL, \n\tversion_name VARCHAR(100), \n\tchange_description TEXT, \n\tfile_path VARCHAR(500) NOT NULL, \n\tfile_size INTEGER NOT NULL, \n\tcontent_hash VARCHAR(64) NOT NULL, \n\tis_current BOOLEAN, \n\tprocessing_status VARCHAR(20), \n\tcreated_by INTEGER, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(document_id) REFERENCES knowledge_documents (id)\n)"
      },
      "vector_metadata": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "document_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chunk_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chroma_collection_name",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chroma_document_id",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "faiss_index_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "embedding_model",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "vector_dimension",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "vector_norm",
            "type": "FLOAT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "storage_status",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "sync_status",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE vector_metadata (\n\tid INTEGER NOT NULL, \n\tdocument_id INTEGER NOT NULL, \n\tchunk_id INTEGER NOT NULL, \n\tchroma_collection_name VARCHAR(100) NOT NULL, \n\tchroma_document_id VARCHAR(100) NOT NULL, \n\tfaiss_index_id INTEGER, \n\tembedding_model VARCHAR(100) NOT NULL, \n\tvector_dimension INTEGER NOT NULL, \n\tvector_norm FLOAT, \n\tstorage_status VARCHAR(20), \n\tsync_status VARCHAR(20), \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(document_id) REFERENCES knowledge_documents (id), \n\tFOREIGN KEY(chunk_id) REFERENCES knowledge_chunks (id)\n)"
      }
    },
    "total_tables": 8
  },
  "backend/data/weplus_admin.db": {
    "path": "backend/data/weplus_admin.db",
    "tables": {
      "system_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "level",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "category",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "message",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "details",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_agent",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "request_id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "module",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "function",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "line_number",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "stack_trace",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "timestamp",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE system_logs (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    level TEXT NOT NULL,\n                    category TEXT NOT NULL,\n                    message TEXT NOT NULL,\n                    details TEXT,\n                    user_id INTEGER,\n                    ip_address TEXT,\n                    user_agent TEXT,\n                    request_id TEXT,\n                    module TEXT,\n                    function TEXT,\n                    line_number INTEGER,\n                    stack_trace TEXT,\n                    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,\n                    created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n                )"
      },
      "sqlite_sequence": {
        "columns": [
          {
            "name": "name",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "seq",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 3,
        "create_sql": "CREATE TABLE sqlite_sequence(name,seq)"
      },
      "user_action_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "action",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "resource_type",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "resource_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "old_values",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "new_values",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_agent",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "success",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "error_message",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "timestamp",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE user_action_logs (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    user_id INTEGER NOT NULL,\n                    action TEXT NOT NULL,\n                    resource_type TEXT,\n                    resource_id INTEGER,\n                    old_values TEXT,\n                    new_values TEXT,\n                    ip_address TEXT,\n                    user_agent TEXT,\n                    success BOOLEAN DEFAULT 1,\n                    error_message TEXT,\n                    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,\n                    FOREIGN KEY (user_id) REFERENCES admin_users (user_id)\n                )"
      },
      "security_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "event_type",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_agent",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "details",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "risk_level",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'LOW'",
            "primary_key": false
          },
          {
            "name": "blocked",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "timestamp",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE security_logs (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    event_type TEXT NOT NULL,\n                    user_id INTEGER,\n                    ip_address TEXT,\n                    user_agent TEXT,\n                    details TEXT,\n                    risk_level TEXT DEFAULT 'LOW',\n                    blocked BOOLEAN DEFAULT 0,\n                    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP\n                )"
      },
      "api_access_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "method",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "endpoint",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_agent",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "request_body",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "response_status",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "response_time",
            "type": "REAL",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "error_message",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "timestamp",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE api_access_logs (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    method TEXT NOT NULL,\n                    endpoint TEXT NOT NULL,\n                    user_id INTEGER,\n                    ip_address TEXT,\n                    user_agent TEXT,\n                    request_body TEXT,\n                    response_status INTEGER,\n                    response_time REAL,\n                    error_message TEXT,\n                    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP\n                )"
      },
      "admin_users": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "email",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "username",
            "type": "VARCHAR(50)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "password_hash",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "role",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "'user'",
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "is_verified",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "last_login",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "login_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "real_name",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "phone",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "department",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "student_id",
            "type": "VARCHAR(50)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "avatar_url",
            "type": "VARCHAR(255)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "profile",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE admin_users (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    email VARCHAR(100) UNIQUE NOT NULL,\n    username VARCHAR(50) UNIQUE NOT NULL,\n    password_hash VARCHAR(255) NOT NULL,\n    role VARCHAR(20) DEFAULT 'user' CHECK (role IN ('user', 'admin', 'super_admin')),\n    is_active BOOLEAN DEFAULT 1,\n    is_verified BOOLEAN DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    last_login DATETIME,\n    login_count INTEGER DEFAULT 0,\n    \n    -- 扩展用户信息\n    real_name VARCHAR(100) DEFAULT '',\n    phone VARCHAR(20) DEFAULT '',\n    department VARCHAR(100) DEFAULT '',\n    student_id VARCHAR(50) DEFAULT '',\n    avatar_url VARCHAR(255) DEFAULT '',\n    \n    -- JSON字段存储额外配置\n    profile TEXT DEFAULT '{}' -- JSON格式的用户配置\n)"
      },
      "file_records": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "filename",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "original_filename",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_path",
            "type": "VARCHAR(500)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_size",
            "type": "INTEGER",
            "not_null": true,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "file_type",
            "type": "VARCHAR(20)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "mime_type",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "upload_time",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "content_summary",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "processing_status",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "'pending'",
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_hash",
            "type": "VARCHAR(32)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "download_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "is_public",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "category",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "extracted_text",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "processing_error",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "processed_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "tags",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'[]'",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE file_records (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    filename VARCHAR(255) NOT NULL,\n    original_filename VARCHAR(255) NOT NULL,\n    file_path VARCHAR(500) NOT NULL,\n    file_size INTEGER NOT NULL DEFAULT 0,\n    file_type VARCHAR(20) NOT NULL CHECK (file_type IN ('pdf', 'doc', 'docx', 'txt', 'jpg', 'png', 'jpeg', 'other')),\n    mime_type VARCHAR(100) DEFAULT '',\n    upload_time DATETIME DEFAULT CURRENT_TIMESTAMP,\n    content_summary TEXT DEFAULT '',\n    processing_status VARCHAR(20) DEFAULT 'pending' CHECK (processing_status IN ('pending', 'processing', 'completed', 'failed', 'vectorized')),\n    user_id INTEGER,\n    \n    -- 新增字段\n    file_hash VARCHAR(32) DEFAULT '', -- MD5哈希值\n    download_count INTEGER DEFAULT 0,\n    is_public BOOLEAN DEFAULT 0,\n    category VARCHAR(100) DEFAULT '',\n    description TEXT DEFAULT '',\n    \n    -- 处理相关字段\n    extracted_text TEXT DEFAULT '',\n    processing_error TEXT DEFAULT '',\n    processed_at DATETIME,\n    \n    -- JSON字段存储标签\n    tags TEXT DEFAULT '[]', -- JSON数组格式的标签\n    \n    FOREIGN KEY (user_id) REFERENCES admin_users (id) ON DELETE SET NULL\n)"
      },
      "knowledge_entries": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "title",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "content",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "source_file_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "vector_id",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "category",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "summary",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "importance_score",
            "type": "REAL",
            "not_null": false,
            "default_value": "0.0",
            "primary_key": false
          },
          {
            "name": "access_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "embedding_model",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "vector_dimension",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "similarity_threshold",
            "type": "REAL",
            "not_null": false,
            "default_value": "0.7",
            "primary_key": false
          },
          {
            "name": "keywords",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'[]'",
            "primary_key": false
          },
          {
            "name": "metadata",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE knowledge_entries (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    title VARCHAR(255) NOT NULL,\n    content TEXT NOT NULL,\n    source_file_id INTEGER,\n    vector_id VARCHAR(100) DEFAULT '', -- 向量存储中的ID\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    category VARCHAR(100) DEFAULT '',\n    \n    -- 新增字段\n    summary TEXT DEFAULT '',\n    importance_score REAL DEFAULT 0.0,\n    access_count INTEGER DEFAULT 0,\n    is_active BOOLEAN DEFAULT 1,\n    \n    -- 向量化相关\n    embedding_model VARCHAR(100) DEFAULT '',\n    vector_dimension INTEGER DEFAULT 0,\n    similarity_threshold REAL DEFAULT 0.7,\n    \n    -- JSON字段\n    keywords TEXT DEFAULT '[]', -- JSON数组格式的关键词\n    metadata TEXT DEFAULT '{}', -- JSON格式的元数据\n    \n    FOREIGN KEY (source_file_id) REFERENCES file_records (id) ON DELETE SET NULL\n)"
      },
      "system_stats": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "stat_date",
            "type": "DATE",
            "not_null": false,
            "default_value": "DATE('now')",
            "primary_key": false
          },
          {
            "name": "total_users",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "active_users",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "total_files",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "total_file_size",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "total_knowledge_entries",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "processed_files",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "pending_files",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "failed_files",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "today_uploads",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "this_week_uploads",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "this_month_uploads",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "file_type_stats",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          },
          {
            "name": "category_stats",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          },
          {
            "name": "last_updated",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE system_stats (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    stat_date DATE DEFAULT (DATE('now')),\n    total_users INTEGER DEFAULT 0,\n    active_users INTEGER DEFAULT 0,\n    total_files INTEGER DEFAULT 0,\n    total_file_size INTEGER DEFAULT 0,\n    total_knowledge_entries INTEGER DEFAULT 0,\n    processed_files INTEGER DEFAULT 0,\n    pending_files INTEGER DEFAULT 0,\n    failed_files INTEGER DEFAULT 0,\n    \n    -- 时间统计\n    today_uploads INTEGER DEFAULT 0,\n    this_week_uploads INTEGER DEFAULT 0,\n    this_month_uploads INTEGER DEFAULT 0,\n    \n    -- JSON字段存储详细统计\n    file_type_stats TEXT DEFAULT '{}', -- 按文件类型统计\n    category_stats TEXT DEFAULT '{}',  -- 按分类统计\n    \n    last_updated DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    UNIQUE(stat_date) -- 每天一条记录\n)"
      },
      "admin_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "admin_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "action",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "target_type",
            "type": "VARCHAR(50)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "target_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "VARCHAR(45)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_agent",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "extra_data",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE admin_logs (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    admin_id INTEGER,\n    action VARCHAR(100) NOT NULL, -- 操作类型：login, logout, create_user, delete_file等\n    target_type VARCHAR(50), -- 操作对象类型：user, file, knowledge_entry等\n    target_id INTEGER, -- 操作对象ID\n    description TEXT, -- 操作描述\n    ip_address VARCHAR(45), -- IP地址\n    user_agent TEXT, -- 用户代理\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    -- JSON字段存储额外信息\n    extra_data TEXT DEFAULT '{}',\n    \n    FOREIGN KEY (admin_id) REFERENCES admin_users (id) ON DELETE SET NULL\n)"
      },
      "file_categories": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "parent_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "sort_order",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 5,
        "create_sql": "CREATE TABLE file_categories (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name VARCHAR(100) UNIQUE NOT NULL,\n    description TEXT DEFAULT '',\n    parent_id INTEGER, -- 支持分类层级\n    sort_order INTEGER DEFAULT 0,\n    is_active BOOLEAN DEFAULT 1,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    FOREIGN KEY (parent_id) REFERENCES file_categories (id) ON DELETE SET NULL\n)"
      },
      "vector_metadata": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "vector_id",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "knowledge_entry_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "embedding_model",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "vector_dimension",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "chunk_index",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "chunk_size",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE vector_metadata (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    vector_id VARCHAR(100) UNIQUE NOT NULL,\n    knowledge_entry_id INTEGER,\n    embedding_model VARCHAR(100) NOT NULL,\n    vector_dimension INTEGER NOT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    -- 向量相关信息\n    chunk_index INTEGER DEFAULT 0, -- 文档分块索引\n    chunk_size INTEGER DEFAULT 0,  -- 分块大小\n    \n    FOREIGN KEY (knowledge_entry_id) REFERENCES knowledge_entries (id) ON DELETE CASCADE\n)"
      }
    },
    "total_tables": 12
  },
  "backend/database/admin.db": {
    "path": "backend/database/admin.db",
    "tables": {
      "admin_users": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "email",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "username",
            "type": "VARCHAR(50)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "password_hash",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "real_name",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "phone",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "department",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "student_id",
            "type": "VARCHAR(50)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "role",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "'user'",
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "is_verified",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "last_login",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "login_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          }
        ],
        "row_count": 6,
        "create_sql": "CREATE TABLE admin_users (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                email VARCHAR(100) UNIQUE NOT NULL,\n                username VARCHAR(50) UNIQUE NOT NULL,\n                password_hash VARCHAR(255) NOT NULL,\n                real_name VARCHAR(100) DEFAULT '',\n                phone VARCHAR(20) DEFAULT '',\n                department VARCHAR(100) DEFAULT '',\n                student_id VARCHAR(50) DEFAULT '',\n                role VARCHAR(20) DEFAULT 'user' CHECK (role IN ('user', 'admin', 'super_admin')),\n                is_active BOOLEAN DEFAULT 1,\n                is_verified BOOLEAN DEFAULT 0,\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                last_login DATETIME,\n                login_count INTEGER DEFAULT 0\n            )"
      },
      "sqlite_sequence": {
        "columns": [
          {
            "name": "name",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "seq",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE sqlite_sequence(name,seq)"
      }
    },
    "total_tables": 2
  },
  "backend/database/users.db": {
    "path": "backend/database/users.db",
    "tables": {
      "users": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "email",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "username",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "password_hash",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "is_verified",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "last_login",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "profile",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          },
          {
            "name": "is_admin",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "FALSE",
            "primary_key": false
          }
        ],
        "row_count": 7,
        "create_sql": "CREATE TABLE users (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                email TEXT UNIQUE NOT NULL,\n                username TEXT NOT NULL,\n                password_hash TEXT NOT NULL,\n                is_active BOOLEAN DEFAULT 1,\n                is_verified BOOLEAN DEFAULT 0,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                last_login TIMESTAMP,\n                profile TEXT DEFAULT '{}'\n            , is_admin BOOLEAN DEFAULT FALSE)"
      },
      "sqlite_sequence": {
        "columns": [
          {
            "name": "name",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "seq",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 3,
        "create_sql": "CREATE TABLE sqlite_sequence(name,seq)"
      },
      "admin_users": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "username",
            "type": "VARCHAR(50)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "email",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "password_hash",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "name",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "role",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "'admin'",
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "last_login",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE admin_users (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                username VARCHAR(50) UNIQUE NOT NULL,\n                email VARCHAR(100) UNIQUE NOT NULL,\n                password_hash VARCHAR(255) NOT NULL,\n                name VARCHAR(100) NOT NULL,\n                role VARCHAR(20) DEFAULT 'admin',\n                is_active BOOLEAN DEFAULT 1,\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                last_login DATETIME\n            )"
      },
      "admin_sessions": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "admin_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "token_hash",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "expires_at",
            "type": "DATETIME",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE admin_sessions (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                admin_id INTEGER NOT NULL,\n                token_hash VARCHAR(255) NOT NULL,\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                expires_at DATETIME NOT NULL,\n                is_active BOOLEAN DEFAULT 1,\n                FOREIGN KEY (admin_id) REFERENCES admin_users (id)\n            )"
      },
      "system_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "level",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "category",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "message",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "details",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_agent",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "request_id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "module",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "function",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "line_number",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "stack_trace",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "timestamp",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE system_logs (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    level TEXT NOT NULL,\n                    category TEXT NOT NULL,\n                    message TEXT NOT NULL,\n                    details TEXT,\n                    user_id INTEGER,\n                    ip_address TEXT,\n                    user_agent TEXT,\n                    request_id TEXT,\n                    module TEXT,\n                    function TEXT,\n                    line_number INTEGER,\n                    stack_trace TEXT,\n                    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,\n                    created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n                )"
      },
      "user_action_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "action",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "resource_type",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "resource_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "old_values",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "new_values",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_agent",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "success",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "error_message",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "timestamp",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE user_action_logs (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    user_id INTEGER NOT NULL,\n                    action TEXT NOT NULL,\n                    resource_type TEXT,\n                    resource_id INTEGER,\n                    old_values TEXT,\n                    new_values TEXT,\n                    ip_address TEXT,\n                    user_agent TEXT,\n                    success BOOLEAN DEFAULT 1,\n                    error_message TEXT,\n                    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,\n                    FOREIGN KEY (user_id) REFERENCES admin_users (user_id)\n                )"
      },
      "security_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "event_type",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_agent",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "details",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "risk_level",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'LOW'",
            "primary_key": false
          },
          {
            "name": "blocked",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "timestamp",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE security_logs (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    event_type TEXT NOT NULL,\n                    user_id INTEGER,\n                    ip_address TEXT,\n                    user_agent TEXT,\n                    details TEXT,\n                    risk_level TEXT DEFAULT 'LOW',\n                    blocked BOOLEAN DEFAULT 0,\n                    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP\n                )"
      },
      "api_access_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "method",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "endpoint",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_agent",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "request_body",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "response_status",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "response_time",
            "type": "REAL",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "error_message",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "timestamp",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE api_access_logs (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    method TEXT NOT NULL,\n                    endpoint TEXT NOT NULL,\n                    user_id INTEGER,\n                    ip_address TEXT,\n                    user_agent TEXT,\n                    request_body TEXT,\n                    response_status INTEGER,\n                    response_time REAL,\n                    error_message TEXT,\n                    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP\n                )"
      },
      "file_records": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "filename",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "original_filename",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_path",
            "type": "VARCHAR(500)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_size",
            "type": "INTEGER",
            "not_null": true,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "file_type",
            "type": "VARCHAR(20)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "mime_type",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "upload_time",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "content_summary",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "processing_status",
            "type": "VARCHAR(20)",
            "not_null": false,
            "default_value": "'pending'",
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_hash",
            "type": "VARCHAR(32)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "download_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "is_public",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "category",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "extracted_text",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "processing_error",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "processed_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "tags",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'[]'",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE file_records (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    filename VARCHAR(255) NOT NULL,\n    original_filename VARCHAR(255) NOT NULL,\n    file_path VARCHAR(500) NOT NULL,\n    file_size INTEGER NOT NULL DEFAULT 0,\n    file_type VARCHAR(20) NOT NULL CHECK (file_type IN ('pdf', 'doc', 'docx', 'txt', 'jpg', 'png', 'jpeg', 'other')),\n    mime_type VARCHAR(100) DEFAULT '',\n    upload_time DATETIME DEFAULT CURRENT_TIMESTAMP,\n    content_summary TEXT DEFAULT '',\n    processing_status VARCHAR(20) DEFAULT 'pending' CHECK (processing_status IN ('pending', 'processing', 'completed', 'failed', 'vectorized')),\n    user_id INTEGER,\n    \n    -- 新增字段\n    file_hash VARCHAR(32) DEFAULT '', -- MD5哈希值\n    download_count INTEGER DEFAULT 0,\n    is_public BOOLEAN DEFAULT 0,\n    category VARCHAR(100) DEFAULT '',\n    description TEXT DEFAULT '',\n    \n    -- 处理相关字段\n    extracted_text TEXT DEFAULT '',\n    processing_error TEXT DEFAULT '',\n    processed_at DATETIME,\n    \n    -- JSON字段存储标签\n    tags TEXT DEFAULT '[]', -- JSON数组格式的标签\n    \n    FOREIGN KEY (user_id) REFERENCES admin_users (id) ON DELETE SET NULL\n)"
      },
      "knowledge_entries": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "title",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "content",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "source_file_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "vector_id",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "category",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "summary",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "importance_score",
            "type": "REAL",
            "not_null": false,
            "default_value": "0.0",
            "primary_key": false
          },
          {
            "name": "access_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "embedding_model",
            "type": "VARCHAR(100)",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "vector_dimension",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "similarity_threshold",
            "type": "REAL",
            "not_null": false,
            "default_value": "0.7",
            "primary_key": false
          },
          {
            "name": "keywords",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'[]'",
            "primary_key": false
          },
          {
            "name": "metadata",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE knowledge_entries (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    title VARCHAR(255) NOT NULL,\n    content TEXT NOT NULL,\n    source_file_id INTEGER,\n    vector_id VARCHAR(100) DEFAULT '', -- 向量存储中的ID\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    category VARCHAR(100) DEFAULT '',\n    \n    -- 新增字段\n    summary TEXT DEFAULT '',\n    importance_score REAL DEFAULT 0.0,\n    access_count INTEGER DEFAULT 0,\n    is_active BOOLEAN DEFAULT 1,\n    \n    -- 向量化相关\n    embedding_model VARCHAR(100) DEFAULT '',\n    vector_dimension INTEGER DEFAULT 0,\n    similarity_threshold REAL DEFAULT 0.7,\n    \n    -- JSON字段\n    keywords TEXT DEFAULT '[]', -- JSON数组格式的关键词\n    metadata TEXT DEFAULT '{}', -- JSON格式的元数据\n    \n    FOREIGN KEY (source_file_id) REFERENCES file_records (id) ON DELETE SET NULL\n)"
      },
      "system_stats": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "stat_date",
            "type": "DATE",
            "not_null": false,
            "default_value": "DATE('now')",
            "primary_key": false
          },
          {
            "name": "total_users",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "active_users",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "total_files",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "total_file_size",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "total_knowledge_entries",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "processed_files",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "pending_files",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "failed_files",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "today_uploads",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "this_week_uploads",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "this_month_uploads",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "file_type_stats",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          },
          {
            "name": "category_stats",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          },
          {
            "name": "last_updated",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE system_stats (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    stat_date DATE DEFAULT (DATE('now')),\n    total_users INTEGER DEFAULT 0,\n    active_users INTEGER DEFAULT 0,\n    total_files INTEGER DEFAULT 0,\n    total_file_size INTEGER DEFAULT 0,\n    total_knowledge_entries INTEGER DEFAULT 0,\n    processed_files INTEGER DEFAULT 0,\n    pending_files INTEGER DEFAULT 0,\n    failed_files INTEGER DEFAULT 0,\n    \n    -- 时间统计\n    today_uploads INTEGER DEFAULT 0,\n    this_week_uploads INTEGER DEFAULT 0,\n    this_month_uploads INTEGER DEFAULT 0,\n    \n    -- JSON字段存储详细统计\n    file_type_stats TEXT DEFAULT '{}', -- 按文件类型统计\n    category_stats TEXT DEFAULT '{}',  -- 按分类统计\n    \n    last_updated DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    UNIQUE(stat_date) -- 每天一条记录\n)"
      },
      "admin_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "admin_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "action",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "target_type",
            "type": "VARCHAR(50)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "target_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "ip_address",
            "type": "VARCHAR(45)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_agent",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "extra_data",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE admin_logs (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    admin_id INTEGER,\n    action VARCHAR(100) NOT NULL, -- 操作类型：login, logout, create_user, delete_file等\n    target_type VARCHAR(50), -- 操作对象类型：user, file, knowledge_entry等\n    target_id INTEGER, -- 操作对象ID\n    description TEXT, -- 操作描述\n    ip_address VARCHAR(45), -- IP地址\n    user_agent TEXT, -- 用户代理\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    -- JSON字段存储额外信息\n    extra_data TEXT DEFAULT '{}',\n    \n    FOREIGN KEY (admin_id) REFERENCES admin_users (id) ON DELETE SET NULL\n)"
      },
      "file_categories": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "parent_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "sort_order",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE file_categories (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name VARCHAR(100) UNIQUE NOT NULL,\n    description TEXT DEFAULT '',\n    parent_id INTEGER, -- 支持分类层级\n    sort_order INTEGER DEFAULT 0,\n    is_active BOOLEAN DEFAULT 1,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    FOREIGN KEY (parent_id) REFERENCES file_categories (id) ON DELETE SET NULL\n)"
      },
      "vector_metadata": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "vector_id",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "knowledge_entry_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "embedding_model",
            "type": "VARCHAR(100)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "vector_dimension",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "chunk_index",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "chunk_size",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE vector_metadata (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    vector_id VARCHAR(100) UNIQUE NOT NULL,\n    knowledge_entry_id INTEGER,\n    embedding_model VARCHAR(100) NOT NULL,\n    vector_dimension INTEGER NOT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    \n    -- 向量相关信息\n    chunk_index INTEGER DEFAULT 0, -- 文档分块索引\n    chunk_size INTEGER DEFAULT 0,  -- 分块大小\n    \n    FOREIGN KEY (knowledge_entry_id) REFERENCES knowledge_entries (id) ON DELETE CASCADE\n)"
      },
      "resource_categories": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "icon",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'📁'",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 8,
        "create_sql": "CREATE TABLE resource_categories (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                name TEXT UNIQUE NOT NULL,\n                description TEXT NOT NULL,\n                icon TEXT DEFAULT '📁',\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n            )"
      },
      "study_resources": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "title",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "category",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_name",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_path",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_size",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_type",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "download_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "rating",
            "type": "REAL",
            "not_null": false,
            "default_value": "0.0",
            "primary_key": false
          },
          {
            "name": "rating_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "tags",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'[]'",
            "primary_key": false
          },
          {
            "name": "uploader_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE study_resources (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                title TEXT NOT NULL,\n                description TEXT,\n                category TEXT NOT NULL,\n                file_name TEXT NOT NULL,\n                file_path TEXT NOT NULL,\n                file_size INTEGER NOT NULL,\n                file_type TEXT NOT NULL,\n                download_count INTEGER DEFAULT 0,\n                rating REAL DEFAULT 0.0,\n                rating_count INTEGER DEFAULT 0,\n                tags TEXT DEFAULT '[]',\n                uploader_id INTEGER NOT NULL,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (uploader_id) REFERENCES users (id)\n            )"
      },
      "resource_ratings": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "resource_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "rating",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "comment",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE resource_ratings (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                resource_id INTEGER NOT NULL,\n                user_id INTEGER NOT NULL,\n                rating INTEGER NOT NULL CHECK (rating >= 1 AND rating <= 5),\n                comment TEXT,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (resource_id) REFERENCES study_resources (id),\n                FOREIGN KEY (user_id) REFERENCES users (id),\n                UNIQUE(resource_id, user_id)\n            )"
      }
    },
    "total_tables": 17
  },
  "backend/database/weplus.db": {
    "path": "backend/database/weplus.db",
    "tables": {
      "documents": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "filename",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_type",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_size",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "upload_time",
            "type": "TEXT",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "content_hash",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "doc_metadata",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          },
          {
            "name": "status",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'uploaded'",
            "primary_key": false
          },
          {
            "name": "uploader_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "processing_status",
            "type": "TEXT",
            "not_null": false,
            "default_value": "\"pending\"",
            "primary_key": false
          },
          {
            "name": "is_public",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "access_level",
            "type": "TEXT",
            "not_null": false,
            "default_value": "\"public\"",
            "primary_key": false
          },
          {
            "name": "category_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "tags_json",
            "type": "TEXT",
            "not_null": false,
            "default_value": "\"[]\"",
            "primary_key": false
          }
        ],
        "row_count": 2,
        "create_sql": "CREATE TABLE documents (\n                        id INTEGER PRIMARY KEY AUTOINCREMENT,\n                        filename TEXT NOT NULL,\n                        file_type TEXT NOT NULL,\n                        file_size INTEGER NOT NULL,\n                        upload_time TEXT DEFAULT CURRENT_TIMESTAMP,\n                        content_hash TEXT UNIQUE NOT NULL,\n                        doc_metadata TEXT DEFAULT '{}',\n                        status TEXT DEFAULT 'uploaded'\n                    , uploader_id INTEGER, processing_status TEXT DEFAULT \"pending\", is_public BOOLEAN DEFAULT 1, access_level TEXT DEFAULT \"public\", category_id INTEGER, tags_json TEXT DEFAULT \"[]\")"
      },
      "sqlite_sequence": {
        "columns": [
          {
            "name": "name",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "seq",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 6,
        "create_sql": "CREATE TABLE sqlite_sequence(name,seq)"
      },
      "document_chunks": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "document_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chunk_index",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "content",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "content_length",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chunk_metadata",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 3,
        "create_sql": "CREATE TABLE document_chunks (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                document_id INTEGER NOT NULL,\n                chunk_index INTEGER NOT NULL,\n                content TEXT NOT NULL,\n                content_length INTEGER NOT NULL,\n                chunk_metadata TEXT DEFAULT '{}',\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (document_id) REFERENCES documents (id)\n            )"
      },
      "categories": {
        "columns": [
          {
            "name": "id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "DATETIME",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE categories (\n            id TEXT PRIMARY KEY,\n            name TEXT UNIQUE NOT NULL,\n            description TEXT,\n            created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n        )"
      },
      "tags": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "color",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'#1890ff'",
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "usage_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TEXT",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 4,
        "create_sql": "CREATE TABLE tags (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name TEXT NOT NULL UNIQUE,\n    color TEXT DEFAULT '#1890ff',\n    description TEXT DEFAULT '',\n    usage_count INTEGER DEFAULT 0,\n    created_at TEXT DEFAULT CURRENT_TIMESTAMP\n)"
      },
      "vector_metadata": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "document_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chunk_id",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chunk_index",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chunk_content",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "chunk_size",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "embedding_model",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'sentence-transformers/all-MiniLM-L6-v2'",
            "primary_key": false
          },
          {
            "name": "vector_dimension",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "384",
            "primary_key": false
          },
          {
            "name": "similarity_threshold",
            "type": "REAL",
            "not_null": false,
            "default_value": "0.7",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TEXT",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "TEXT",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE vector_metadata (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    document_id INTEGER NOT NULL,\n    chunk_id TEXT NOT NULL, -- ChromaDB中的chunk ID\n    chunk_index INTEGER NOT NULL,\n    chunk_content TEXT NOT NULL,\n    chunk_size INTEGER NOT NULL,\n    embedding_model TEXT DEFAULT 'sentence-transformers/all-MiniLM-L6-v2',\n    vector_dimension INTEGER DEFAULT 384,\n    similarity_threshold REAL DEFAULT 0.7,\n    created_at TEXT DEFAULT CURRENT_TIMESTAMP,\n    updated_at TEXT DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (document_id) REFERENCES documents (id) ON DELETE CASCADE,\n    UNIQUE(document_id, chunk_index)\n)"
      },
      "document_processing_logs": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "document_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "operation_type",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "status",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "message",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "details",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          },
          {
            "name": "processing_time_ms",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TEXT",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE document_processing_logs (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    document_id INTEGER NOT NULL,\n    operation_type TEXT NOT NULL CHECK (operation_type IN ('upload', 'process', 'delete', 'update')),\n    status TEXT NOT NULL CHECK (status IN ('started', 'progress', 'completed', 'failed')),\n    message TEXT DEFAULT '',\n    details TEXT DEFAULT '{}', -- JSON格式存储详细信息\n    processing_time_ms INTEGER DEFAULT 0,\n    created_at TEXT DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (document_id) REFERENCES documents (id) ON DELETE CASCADE\n)"
      },
      "system_config": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "config_key",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "config_value",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "config_type",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'string'",
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": "''",
            "primary_key": false
          },
          {
            "name": "is_editable",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TEXT",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "TEXT",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 8,
        "create_sql": "CREATE TABLE system_config (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    config_key TEXT NOT NULL UNIQUE,\n    config_value TEXT NOT NULL,\n    config_type TEXT DEFAULT 'string' CHECK (config_type IN ('string', 'integer', 'boolean', 'json')),\n    description TEXT DEFAULT '',\n    is_editable BOOLEAN DEFAULT 1,\n    created_at TEXT DEFAULT CURRENT_TIMESTAMP,\n    updated_at TEXT DEFAULT CURRENT_TIMESTAMP\n)"
      },
      "knowledge_stats": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "stat_date",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "total_documents",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "total_chunks",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "total_vectors",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "storage_size_mb",
            "type": "REAL",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "avg_processing_time_ms",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TEXT",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE knowledge_stats (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    stat_date TEXT NOT NULL,\n    total_documents INTEGER DEFAULT 0,\n    total_chunks INTEGER DEFAULT 0,\n    total_vectors INTEGER DEFAULT 0,\n    storage_size_mb REAL DEFAULT 0,\n    avg_processing_time_ms INTEGER DEFAULT 0,\n    created_at TEXT DEFAULT CURRENT_TIMESTAMP,\n    UNIQUE(stat_date)\n)"
      },
      "resource_categories": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "VARCHAR(50)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "icon",
            "type": "VARCHAR(50)",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "display_order",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 6,
        "create_sql": "CREATE TABLE resource_categories (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                name VARCHAR(50) NOT NULL UNIQUE,\n                description TEXT,\n                icon VARCHAR(50),\n                display_order INTEGER DEFAULT 0,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n            )"
      },
      "study_resources": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "title",
            "type": "VARCHAR(200)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "description",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "category",
            "type": "VARCHAR(50)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_name",
            "type": "VARCHAR(255)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_path",
            "type": "VARCHAR(500)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_size",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "file_type",
            "type": "VARCHAR(50)",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "download_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "rating",
            "type": "DECIMAL(3,2)",
            "not_null": false,
            "default_value": "0.00",
            "primary_key": false
          },
          {
            "name": "rating_count",
            "type": "INTEGER",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "tags",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "uploader_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 8,
        "create_sql": "CREATE TABLE study_resources (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                title VARCHAR(200) NOT NULL,\n                description TEXT,\n                category VARCHAR(50) NOT NULL,\n                file_name VARCHAR(255) NOT NULL,\n                file_path VARCHAR(500) NOT NULL,\n                file_size INTEGER NOT NULL,\n                file_type VARCHAR(50) NOT NULL,\n                download_count INTEGER DEFAULT 0,\n                rating DECIMAL(3,2) DEFAULT 0.00,\n                rating_count INTEGER DEFAULT 0,\n                tags TEXT,\n                uploader_id INTEGER NOT NULL,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (uploader_id) REFERENCES users(id)\n            )"
      },
      "resource_ratings": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "resource_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "rating",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "comment",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE resource_ratings (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                resource_id INTEGER NOT NULL,\n                user_id INTEGER NOT NULL,\n                rating INTEGER NOT NULL CHECK (rating >= 1 AND rating <= 5),\n                comment TEXT,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (resource_id) REFERENCES study_resources(id) ON DELETE CASCADE,\n                FOREIGN KEY (user_id) REFERENCES users(id),\n                UNIQUE(resource_id, user_id)\n            )"
      },
      "resource_downloads": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "resource_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "downloaded_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE resource_downloads (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                resource_id INTEGER NOT NULL,\n                user_id INTEGER NOT NULL,\n                downloaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (resource_id) REFERENCES study_resources(id) ON DELETE CASCADE,\n                FOREIGN KEY (user_id) REFERENCES users(id)\n            )"
      }
    },
    "total_tables": 13
  },
  "backend/database/weplus_users.db": {
    "path": "backend/database/weplus_users.db",
    "tables": {
      "users": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "email",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "username",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "password_hash",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "is_active",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "1",
            "primary_key": false
          },
          {
            "name": "is_verified",
            "type": "BOOLEAN",
            "not_null": false,
            "default_value": "0",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "last_login",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "profile",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'{}'",
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE users (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            email TEXT UNIQUE NOT NULL,\n            username TEXT NOT NULL,\n            password_hash TEXT NOT NULL,\n            is_active BOOLEAN DEFAULT 1,\n            is_verified BOOLEAN DEFAULT 0,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            last_login TIMESTAMP,\n            profile TEXT DEFAULT '{}'\n        )"
      },
      "sqlite_sequence": {
        "columns": [
          {
            "name": "name",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "seq",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE sqlite_sequence(name,seq)"
      },
      "chat_sessions": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "user_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "title",
            "type": "TEXT",
            "not_null": false,
            "default_value": "'新对话'",
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE chat_sessions (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            user_id INTEGER NOT NULL,\n            title TEXT DEFAULT '新对话',\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE\n        )"
      },
      "chat_messages": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "session_id",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "role",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "content",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": false,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE chat_messages (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            session_id INTEGER NOT NULL,\n            role TEXT NOT NULL CHECK (role IN ('user', 'assistant')),\n            content TEXT NOT NULL,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (session_id) REFERENCES chat_sessions (id) ON DELETE CASCADE\n        )"
      }
    },
    "total_tables": 4
  },
  "backend/data/chroma_db/chroma.sqlite3": {
    "path": "backend/data/chroma_db/chroma.sqlite3",
    "tables": {
      "migrations": {
        "columns": [
          {
            "name": "dir",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "version",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "filename",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "sql",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "hash",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 8,
        "create_sql": "CREATE TABLE migrations (\n                        dir TEXT NOT NULL,\n                        version INTEGER NOT NULL,\n                        filename TEXT NOT NULL,\n                        sql TEXT NOT NULL,\n                        hash TEXT NOT NULL,\n                        PRIMARY KEY (dir, version)\n                    )"
      },
      "embeddings_queue": {
        "columns": [
          {
            "name": "seq_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": true,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "operation",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "topic",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "id",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "vector",
            "type": "BLOB",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "encoding",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "metadata",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE embeddings_queue (\n    seq_id INTEGER PRIMARY KEY,\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    operation INTEGER NOT NULL,\n    topic TEXT NOT NULL,\n    id TEXT NOT NULL,\n    vector BLOB,\n    encoding TEXT,\n    metadata TEXT\n)"
      },
      "collection_metadata": {
        "columns": [
          {
            "name": "collection_id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "key",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "str_value",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "int_value",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "float_value",
            "type": "REAL",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE collection_metadata (\n    collection_id TEXT REFERENCES collections(id) ON DELETE CASCADE,\n    key TEXT NOT NULL,\n    str_value TEXT,\n    int_value INTEGER,\n    float_value REAL,\n    PRIMARY KEY (collection_id, key)\n)"
      },
      "segments": {
        "columns": [
          {
            "name": "id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "type",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "scope",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "topic",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "collection",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 2,
        "create_sql": "CREATE TABLE segments (\n    id TEXT PRIMARY KEY,\n    type TEXT NOT NULL,\n    scope TEXT NOT NULL,\n    topic TEXT,\n    collection TEXT REFERENCES collection(id)\n)"
      },
      "segment_metadata": {
        "columns": [
          {
            "name": "segment_id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "key",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "str_value",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "int_value",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "float_value",
            "type": "REAL",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE segment_metadata (\n    segment_id TEXT  REFERENCES segments(id) ON DELETE CASCADE,\n    key TEXT NOT NULL,\n    str_value TEXT,\n    int_value INTEGER,\n    float_value REAL,\n    PRIMARY KEY (segment_id, key)\n)"
      },
      "tenants": {
        "columns": [
          {
            "name": "id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE tenants (\n    id TEXT PRIMARY KEY,\n    UNIQUE (id)\n)"
      },
      "databases": {
        "columns": [
          {
            "name": "id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "tenant_id",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE databases (\n    id TEXT PRIMARY KEY, -- unique globally\n    name TEXT NOT NULL, -- unique per tenant\n    tenant_id TEXT NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,\n    UNIQUE (tenant_id, name) -- Ensure that a tenant has only one database with a given name\n)"
      },
      "collections": {
        "columns": [
          {
            "name": "id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "topic",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "dimension",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "database_id",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE \"collections\" (\n    id TEXT PRIMARY KEY, -- unique globally\n    name TEXT NOT NULL, -- unique per database\n    topic TEXT NOT NULL,\n    dimension INTEGER,\n    database_id TEXT NOT NULL REFERENCES databases(id) ON DELETE CASCADE,\n    UNIQUE (name, database_id)\n)"
      },
      "embeddings": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "segment_id",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "embedding_id",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "seq_id",
            "type": "BLOB",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": true,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE embeddings (\n    id INTEGER PRIMARY KEY,\n    segment_id TEXT NOT NULL,\n    embedding_id TEXT NOT NULL,\n    seq_id BLOB NOT NULL,\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    UNIQUE (segment_id, embedding_id)\n)"
      },
      "embedding_metadata": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "key",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "string_value",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "int_value",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "float_value",
            "type": "REAL",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "bool_value",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE embedding_metadata (\n    id INTEGER REFERENCES embeddings(id),\n    key TEXT NOT NULL,\n    string_value TEXT,\n    int_value INTEGER,\n    float_value REAL, bool_value INTEGER,\n    PRIMARY KEY (id, key)\n)"
      },
      "max_seq_id": {
        "columns": [
          {
            "name": "segment_id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "seq_id",
            "type": "BLOB",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE max_seq_id (\n    segment_id TEXT PRIMARY KEY,\n    seq_id BLOB NOT NULL\n)"
      },
      "embedding_fulltext_search": {
        "columns": [
          {
            "name": "string_value",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE VIRTUAL TABLE embedding_fulltext_search USING fts5(string_value, tokenize='trigram')"
      },
      "embedding_fulltext_search_data": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "block",
            "type": "BLOB",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 2,
        "create_sql": "CREATE TABLE 'embedding_fulltext_search_data'(id INTEGER PRIMARY KEY, block BLOB)"
      },
      "embedding_fulltext_search_idx": {
        "columns": [
          {
            "name": "segid",
            "type": "",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "term",
            "type": "",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "pgno",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE 'embedding_fulltext_search_idx'(segid, term, pgno, PRIMARY KEY(segid, term)) WITHOUT ROWID"
      },
      "embedding_fulltext_search_content": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "c0",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE 'embedding_fulltext_search_content'(id INTEGER PRIMARY KEY, c0)"
      },
      "embedding_fulltext_search_docsize": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "sz",
            "type": "BLOB",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE 'embedding_fulltext_search_docsize'(id INTEGER PRIMARY KEY, sz BLOB)"
      },
      "embedding_fulltext_search_config": {
        "columns": [
          {
            "name": "k",
            "type": "",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "v",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE 'embedding_fulltext_search_config'(k PRIMARY KEY, v) WITHOUT ROWID"
      }
    },
    "total_tables": 17
  },
  "backend/data/vector_store/chromadb/chroma.sqlite3": {
    "path": "backend/data/vector_store/chromadb/chroma.sqlite3",
    "tables": {
      "migrations": {
        "columns": [
          {
            "name": "dir",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "version",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "filename",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "sql",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "hash",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 8,
        "create_sql": "CREATE TABLE migrations (\n                        dir TEXT NOT NULL,\n                        version INTEGER NOT NULL,\n                        filename TEXT NOT NULL,\n                        sql TEXT NOT NULL,\n                        hash TEXT NOT NULL,\n                        PRIMARY KEY (dir, version)\n                    )"
      },
      "embeddings_queue": {
        "columns": [
          {
            "name": "seq_id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": true,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          },
          {
            "name": "operation",
            "type": "INTEGER",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "topic",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "id",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "vector",
            "type": "BLOB",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "encoding",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "metadata",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 99,
        "create_sql": "CREATE TABLE embeddings_queue (\n    seq_id INTEGER PRIMARY KEY,\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    operation INTEGER NOT NULL,\n    topic TEXT NOT NULL,\n    id TEXT NOT NULL,\n    vector BLOB,\n    encoding TEXT,\n    metadata TEXT\n)"
      },
      "collection_metadata": {
        "columns": [
          {
            "name": "collection_id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "key",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "str_value",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "int_value",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "float_value",
            "type": "REAL",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE collection_metadata (\n    collection_id TEXT REFERENCES collections(id) ON DELETE CASCADE,\n    key TEXT NOT NULL,\n    str_value TEXT,\n    int_value INTEGER,\n    float_value REAL,\n    PRIMARY KEY (collection_id, key)\n)"
      },
      "segments": {
        "columns": [
          {
            "name": "id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "type",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "scope",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "topic",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "collection",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 2,
        "create_sql": "CREATE TABLE segments (\n    id TEXT PRIMARY KEY,\n    type TEXT NOT NULL,\n    scope TEXT NOT NULL,\n    topic TEXT,\n    collection TEXT REFERENCES collection(id)\n)"
      },
      "segment_metadata": {
        "columns": [
          {
            "name": "segment_id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "key",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "str_value",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "int_value",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "float_value",
            "type": "REAL",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 0,
        "create_sql": "CREATE TABLE segment_metadata (\n    segment_id TEXT  REFERENCES segments(id) ON DELETE CASCADE,\n    key TEXT NOT NULL,\n    str_value TEXT,\n    int_value INTEGER,\n    float_value REAL,\n    PRIMARY KEY (segment_id, key)\n)"
      },
      "tenants": {
        "columns": [
          {
            "name": "id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE tenants (\n    id TEXT PRIMARY KEY,\n    UNIQUE (id)\n)"
      },
      "databases": {
        "columns": [
          {
            "name": "id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "tenant_id",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE databases (\n    id TEXT PRIMARY KEY, -- unique globally\n    name TEXT NOT NULL, -- unique per tenant\n    tenant_id TEXT NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,\n    UNIQUE (tenant_id, name) -- Ensure that a tenant has only one database with a given name\n)"
      },
      "collections": {
        "columns": [
          {
            "name": "id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "name",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "topic",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "dimension",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "database_id",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE \"collections\" (\n    id TEXT PRIMARY KEY, -- unique globally\n    name TEXT NOT NULL, -- unique per database\n    topic TEXT NOT NULL,\n    dimension INTEGER,\n    database_id TEXT NOT NULL REFERENCES databases(id) ON DELETE CASCADE,\n    UNIQUE (name, database_id)\n)"
      },
      "embeddings": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "segment_id",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "embedding_id",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "seq_id",
            "type": "BLOB",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP",
            "not_null": true,
            "default_value": "CURRENT_TIMESTAMP",
            "primary_key": false
          }
        ],
        "row_count": 11,
        "create_sql": "CREATE TABLE embeddings (\n    id INTEGER PRIMARY KEY,\n    segment_id TEXT NOT NULL,\n    embedding_id TEXT NOT NULL,\n    seq_id BLOB NOT NULL,\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    UNIQUE (segment_id, embedding_id)\n)"
      },
      "embedding_metadata": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "key",
            "type": "TEXT",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "string_value",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "int_value",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "float_value",
            "type": "REAL",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          },
          {
            "name": "bool_value",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 140,
        "create_sql": "CREATE TABLE embedding_metadata (\n    id INTEGER REFERENCES embeddings(id),\n    key TEXT NOT NULL,\n    string_value TEXT,\n    int_value INTEGER,\n    float_value REAL, bool_value INTEGER,\n    PRIMARY KEY (id, key)\n)"
      },
      "max_seq_id": {
        "columns": [
          {
            "name": "segment_id",
            "type": "TEXT",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "seq_id",
            "type": "BLOB",
            "not_null": true,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE max_seq_id (\n    segment_id TEXT PRIMARY KEY,\n    seq_id BLOB NOT NULL\n)"
      },
      "embedding_fulltext_search": {
        "columns": [
          {
            "name": "string_value",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 30,
        "create_sql": "CREATE VIRTUAL TABLE embedding_fulltext_search USING fts5(string_value, tokenize='trigram')"
      },
      "embedding_fulltext_search_data": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "block",
            "type": "BLOB",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 66,
        "create_sql": "CREATE TABLE 'embedding_fulltext_search_data'(id INTEGER PRIMARY KEY, block BLOB)"
      },
      "embedding_fulltext_search_idx": {
        "columns": [
          {
            "name": "segid",
            "type": "",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "term",
            "type": "",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "pgno",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 64,
        "create_sql": "CREATE TABLE 'embedding_fulltext_search_idx'(segid, term, pgno, PRIMARY KEY(segid, term)) WITHOUT ROWID"
      },
      "embedding_fulltext_search_content": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "c0",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 30,
        "create_sql": "CREATE TABLE 'embedding_fulltext_search_content'(id INTEGER PRIMARY KEY, c0)"
      },
      "embedding_fulltext_search_docsize": {
        "columns": [
          {
            "name": "id",
            "type": "INTEGER",
            "not_null": false,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "sz",
            "type": "BLOB",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 30,
        "create_sql": "CREATE TABLE 'embedding_fulltext_search_docsize'(id INTEGER PRIMARY KEY, sz BLOB)"
      },
      "embedding_fulltext_search_config": {
        "columns": [
          {
            "name": "k",
            "type": "",
            "not_null": true,
            "default_value": null,
            "primary_key": true
          },
          {
            "name": "v",
            "type": "",
            "not_null": false,
            "default_value": null,
            "primary_key": false
          }
        ],
        "row_count": 1,
        "create_sql": "CREATE TABLE 'embedding_fulltext_search_config'(k PRIMARY KEY, v) WITHOUT ROWID"
      }
    },
    "total_tables": 17
  }
}